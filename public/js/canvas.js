const canvas={init:function(){},collision:{check:function(){}},render:{func:function(e){var t=1;void 0!=canvas.render.lastTimeStamp&&(t=(e-canvas.render.lastTimeStamp)/17);const n=document.getElementsByTagName("canvas")[0],a=n.width,i=n.height;var o=n.getContext("2d");o.clearRect(0,0,a,i),o.fillStyle="rgb(230,230,230)",o.fillRect(0,0,a,i);const r=document.getElementById("rocket");o.rotate(0),o.textAlign="center",o.font="20px Georgia";for(const e in playersData){const n=playersData[e];if(void 0!=n.orientation){const e=n.orientation.position;n.orientation.velocity;let s=n.orientation.rotation;const m=3.141592653*(s-90)*2/360,c=.2*t;e.x+=Math.cos(m)*c,e.y+=Math.sin(m)*c,e.x>100?e.x=100:e.x<0&&(e.x=0),e.y>100?e.y=100:e.y<0&&(e.y=0);const l=25,d=75,u=e.x/100*(a-80)+40,v=e.y/100*(i-80)+40;s*=Math.PI/180,o.translate(u,v),void 0!=n.username&&(o.fillStyle="black",o.fillText(n.username,0,-50)),o.rotate(s),o.drawImage(r,-l/2,-d/2,l,d),o.rotate(-s),o.translate(-u,-v)}}"requestAnimationFrame"in window?canvas.render.animationFrameRequest=window.requestAnimationFrame(canvas.render.func):canvas.render.animationTimer=setTimeout(canvas.render.func,30,(new Date).getTime())},start:function(){void 0==this.animationFrameRequest&&("requestAnimationFrame"in window?this.animationFrameRequest=window.requestAnimationFrame(this.func):canvas.render.animationTimer=setTimeout(canvas.render.func,30,(new Date).getTime()))},stop:function(){void 0!=this.animationFrameRequest?(window.cancelAnimationFrame(this.animationFrameRequest),delete this.animationFrameRequest):void 0!=this.animationTimer&&(clearTimeout(this.animationTimer),delete this.animationTimer)}}};canvas.init();